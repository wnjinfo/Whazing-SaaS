'use strict';
const _0x246e2e = _0x2b96;
(function (_0x576a63, _0x5e2054) {
    const _0x55cb24 = _0x2b96, _0x3839dc = _0x576a63();
    while (!![]) {
        try {
            const _0x16dfe6 = -parseInt(_0x55cb24(0x1f5)) / (-0x1cf2 + 0x1949 * 0x1 + -0x2 * -0x1d5) + parseInt(_0x55cb24(0x216)) / (-0x7 * -0x33 + -0x43b + 0x2d8) * (parseInt(_0x55cb24(0x214)) / (-0x1a69 + 0x1e9b * -0x1 + 0x3907)) + parseInt(_0x55cb24(0x257)) / (0x14e9 + 0xb7c + -0x2061) * (parseInt(_0x55cb24(0x230)) / (-0x2cf * 0x4 + 0x6e7 * 0x1 + 0x45a)) + -parseInt(_0x55cb24(0x25e)) / (0x20da + 0xc * -0x1f5 + 0x8 * -0x12b) + parseInt(_0x55cb24(0x2fc)) / (0x15f9 + 0x22ac + 0x389e * -0x1) + parseInt(_0x55cb24(0x244)) / (-0x17e5 + 0x1e8a + -0x69d) + parseInt(_0x55cb24(0x21f)) / (-0x1267 + 0x3dd * -0x9 + -0x101 * -0x35) * (-parseInt(_0x55cb24(0x2a4)) / (-0x2649 + 0x972 * 0x4 + 0x8b * 0x1));
            if (_0x16dfe6 === _0x5e2054)
                break;
            else
                _0x3839dc['push'](_0x3839dc['shift']());
        } catch (_0x4d76f8) {
            _0x3839dc['push'](_0x3839dc['shift']());
        }
    }
}(_0x25f5, 0x196907 * 0x1 + 0xd553f * -0x2 + 0x1058f6));
var __createBinding = this && this[_0x246e2e(0x266) + _0x246e2e(0x261)] || (Object[_0x246e2e(0x218)] ? function (_0x1814f2, _0x1343dd, _0x4057ad, _0x38babd) {
        const _0x232c54 = _0x246e2e, _0xdebcd8 = {};
        _0xdebcd8[_0x232c54(0x2c3)] = function (_0x22316d, _0x8371c9) {
            return _0x22316d === _0x8371c9;
        }, _0xdebcd8[_0x232c54(0x274)] = function (_0x22bb87, _0x26e88e) {
            return _0x22bb87 in _0x26e88e;
        }, _0xdebcd8[_0x232c54(0x27e)] = _0x232c54(0x2c1);
        const _0x448114 = _0xdebcd8;
        if (_0x448114[_0x232c54(0x2c3)](_0x38babd, undefined))
            _0x38babd = _0x4057ad;
        var _0x969e14 = Object[_0x232c54(0x1d9) + _0x232c54(0x2c2) + _0x232c54(0x212)](_0x1343dd, _0x4057ad);
        if (!_0x969e14 || (_0x448114[_0x232c54(0x274)](_0x448114[_0x232c54(0x27e)], _0x969e14) ? !_0x1343dd[_0x232c54(0x22a)] : _0x969e14[_0x232c54(0x2cc)] || _0x969e14[_0x232c54(0x1e7) + 'le'])) {
            const _0x32c6d1 = {};
            _0x32c6d1[_0x232c54(0x236)] = !![], _0x32c6d1[_0x232c54(0x2c1)] = function () {
                return _0x1343dd[_0x4057ad];
            }, _0x969e14 = _0x32c6d1;
        }
        Object[_0x232c54(0x2d6) + _0x232c54(0x23c)](_0x1814f2, _0x38babd, _0x969e14);
    } : function (_0x27a4d5, _0x1aef26, _0x3fb3e1, _0x300ef2) {
        const _0x49fdc5 = _0x246e2e, _0x141e93 = {};
        _0x141e93[_0x49fdc5(0x2c0)] = function (_0x108ad5, _0x1844f6) {
            return _0x108ad5 === _0x1844f6;
        };
        const _0x544020 = _0x141e93;
        if (_0x544020[_0x49fdc5(0x2c0)](_0x300ef2, undefined))
            _0x300ef2 = _0x3fb3e1;
        _0x27a4d5[_0x300ef2] = _0x1aef26[_0x3fb3e1];
    }), __setModuleDefault = this && this[_0x246e2e(0x20a) + _0x246e2e(0x2e6)] || (Object[_0x246e2e(0x218)] ? function (_0x31f0d2, _0x36c7a0) {
        const _0x3ef616 = _0x246e2e, _0x31e7bc = {};
        _0x31e7bc[_0x3ef616(0x1f9)] = _0x3ef616(0x1e4);
        const _0x49c33d = _0x31e7bc, _0x510bf2 = {};
        _0x510bf2[_0x3ef616(0x236)] = !![], _0x510bf2[_0x3ef616(0x2b6)] = _0x36c7a0, Object[_0x3ef616(0x2d6) + _0x3ef616(0x23c)](_0x31f0d2, _0x49c33d[_0x3ef616(0x1f9)], _0x510bf2);
    } : function (_0x32b862, _0x491310) {
        const _0x5f2626 = _0x246e2e, _0x108364 = {};
        _0x108364[_0x5f2626(0x1e6)] = _0x5f2626(0x1e4);
        const _0x29aa8f = _0x108364;
        _0x32b862[_0x29aa8f[_0x5f2626(0x1e6)]] = _0x491310;
    }), __importStar = this && this[_0x246e2e(0x240) + 'ar'] || function (_0x245c40) {
        const _0x3c9235 = _0x246e2e, _0x136ed5 = {
                'ffZUp': _0x3c9235(0x1d4),
                'YbOER': function (_0x483821, _0x3856eb, _0x559822) {
                    return _0x483821(_0x3856eb, _0x559822);
                },
                'AjeyB': function (_0x1b6ac0, _0x48c3c4) {
                    return _0x1b6ac0 != _0x48c3c4;
                },
                'GjpoM': function (_0x3ab2c3, _0x165ec0) {
                    return _0x3ab2c3 !== _0x165ec0;
                },
                'iukhs': _0x3c9235(0x1e4),
                'CECTG': function (_0x5915f6, _0x19a204, _0x548d6f, _0x4bfa38) {
                    return _0x5915f6(_0x19a204, _0x548d6f, _0x4bfa38);
                }
            }, _0x3d6f96 = _0x136ed5[_0x3c9235(0x233)][_0x3c9235(0x2f7)]('|');
        let _0x44f4bd = -0x1384 + -0x622 + -0x43 * -0x62;
        while (!![]) {
            switch (_0x3d6f96[_0x44f4bd++]) {
            case '0':
                _0x136ed5[_0x3c9235(0x1f8)](__setModuleDefault, _0x259aee, _0x245c40);
                continue;
            case '1':
                return _0x259aee;
            case '2':
                var _0x259aee = {};
                continue;
            case '3':
                if (_0x245c40 && _0x245c40[_0x3c9235(0x22a)])
                    return _0x245c40;
                continue;
            case '4':
                if (_0x136ed5[_0x3c9235(0x1ed)](_0x245c40, null)) {
                    for (var _0x12b82e in _0x245c40)
                        if (_0x136ed5[_0x3c9235(0x25a)](_0x12b82e, _0x136ed5[_0x3c9235(0x282)]) && Object[_0x3c9235(0x2aa)][_0x3c9235(0x2ca) + _0x3c9235(0x23c)][_0x3c9235(0x247)](_0x245c40, _0x12b82e))
                            _0x136ed5[_0x3c9235(0x2f6)](__createBinding, _0x259aee, _0x245c40, _0x12b82e);
                }
                continue;
            }
            break;
        }
    }, __importDefault = this && this[_0x246e2e(0x213) + _0x246e2e(0x2ec)] || function (_0xedb093) {
        const _0x3ed96d = _0x246e2e;
        return _0xedb093 && _0xedb093[_0x3ed96d(0x22a)] ? _0xedb093 : { 'default': _0xedb093 };
    };
function _0x25f5() {
    const _0x515977 = [
        '\x20-\x20WhatsAp',
        'externalKe',
        'ge\x20ack.\x20Er',
        'length',
        'cacheLayer',
        '\x20\x20where\x20t.',
        'hasOwnProp',
        'ice',
        'writable',
        'broadcast',
        '@g.us',
        'recebendo\x20',
        'nessHours',
        'c.\x22number\x22',
        'ls/Setting',
        'audioMessa',
        'Message',
        '\x20mensagens',
        'defineProp',
        'msg',
        'CIPHERTEXT',
        'bwyQq',
        '../../mode',
        'ssage',
        'ata',
        'mber\x22\x20=\x20\x27',
        'select\x20t.i',
        'thCaptionM',
        'sage',
        'REVOKE',
        'ftmpI',
        'includes',
        'zowWD',
        'now',
        'eDefault',
        'stickerMes',
        'TicketServ',
        'jaXmo',
        'pService/S',
        's\x22\x20c\x20\x0a\x20\x20\x20\x20',
        'fault',
        '@whiskeyso',
        'estamp',
        'psert',
        'ling\x20messa',
        './helpers/',
        'quotedMsg',
        'ueue',
        'error',
        'IsValidMsg',
        'CECTG',
        'split',
        'where\x20t.\x22t',
        'whatsappId',
        'ls/Campaig',
        'key',
        '2000068bjpyfs',
        'is_chat_ia',
        '3|2|4|0|1',
        'receipt',
        'FrFbn',
        '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        'LCatU',
        'getOwnProp',
        'authToken',
        'hookMessag',
        'essage',
        'SELECT',
        '@sentry/no',
        'pHUio',
        '_CHANGED',
        'ceipt.upda',
        'enabled',
        'messageStu',
        'default',
        'E2E_IDENTI',
        'FlfWb',
        'configurab',
        ':unreads',
        'fromMe',
        'tubType',
        'messageId',
        'vkiAB',
        'AjeyB',
        'tenantId',
        'contact',
        'remoteJid',
        'select\x20max',
        'hcdfA',
        'amp',
        'quotedMess',
        '1444456mUpmvL',
        'toISOStrin',
        'filter',
        'YbOER',
        'ivIhl',
        'forEach',
        '\x27\x20and\x20c.\x22t',
        'xtMessage',
        'urlMessage',
        'd,\x20t.\x22last',
        'tabase/ind',
        'vBcwU',
        'chat:ack',
        'd\x20t.id\x20=\x20(',
        'add',
        'ages',
        'WAMessageS',
        'pMsg',
        'HxPzm',
        'PVezj',
        'LIZST',
        '__setModul',
        'actBaileys',
        'UtiJs',
        'eys',
        'isGroup',
        'wvYjb',
        'r:\x20',
        'messages.u',
        'ptor',
        '__importDe',
        '1647txmjYg',
        '../OpenIA/',
        '4778EQfYKl',
        '../ChatFlo',
        'create',
        'where',
        'url',
        'protocolMe',
        'KbvJM',
        'TY_CHANGED',
        '/Queue',
        '1260njcCKX',
        '\x22tenantId\x22',
        'enantId\x22\x20=',
        'ls/Message',
        'log',
        'leys',
        '\x22Tickets\x22\x20',
        'payload',
        'pdate',
        'VerifyBusi',
        'dMfXJ',
        '__esModule',
        'participan',
        'ls/Ticket',
        'tMEdT',
        '../QueueSe',
        'CaAIt',
        '7390ciiTzT',
        's/logger',
        '\x20\x20\x22Contact',
        'ffZUp',
        'test',
        'ervices/Fi',
        'enumerable',
        'logger',
        '../TicketS',
        'benZe',
        'VerifyMess',
        'howWhatsAp',
        'erty',
        'messages',
        '\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',
        'findOne',
        '__importSt',
        'stener.\x20Er',
        'whatsapp',
        '../Whatsap',
        '9443280ehZbUY',
        'readTimest',
        'QJBAk',
        'call',
        'isValidBai',
        '\x20=\x20',
        '\x22\x20t,\x20\x0a\x20\x20\x20\x20',
        'PAZdb',
        'unreadMess',
        '../../libs',
        '\x20\x20\x20\x20\x20\x20\x20fro',
        'captureExc',
        'ack',
        'answered',
        'bType',
        'd\x0a\x20\x20\x20\x20\x20\x20\x20\x20',
        'VerifyCont',
        'aileys',
        'mVAXz',
        '3436BCxqZe',
        '\x20\x20\x20\x20\x20\x20\x20\x20an',
        'ileys',
        'GjpoM',
        'stringify',
        'lastMessag',
        'getBodyMes',
        '3444036nvcxMK',
        'd\x20c.\x22tenan',
        '../../util',
        'nding',
        './../../da',
        'ndOrCreate',
        'VerifyMedi',
        'SKHwL',
        '__createBi',
        'eption',
        'message',
        'groupMetad',
        'ageOpenIAQ',
        'bkahk',
        'qgPFx',
        '\x20t.\x22contac',
        '/cache',
        'image',
        'groupConta',
        'ckets/bail',
        '\x20Ã s:\x20',
        'm\x20\x22Tickets',
        'hCWPE',
        'map',
        'p:\x20',
        'contextInf',
        'eListenerB',
        'shift',
        'set',
        'ageBaileys',
        'ignoreGrou',
        'icket',
        'RVbJU',
        'WebHooksAP',
        'ling\x20wbot\x20',
        'Status',
        'iukhs',
        'QueryTypes',
        '\x20c.\x22number',
        'isFarewell',
        'status',
        'query',
        '(id)\x20from\x20',
        '../../help',
        'apiConfig',
        'age',
        'indexOf',
        'Message\x22,\x20',
        'ers/socket',
        'imageMessa',
        '\x22\x20=\x20\x27',
        'Error\x20hand',
        'tId\x22\x20=\x20',
        'queueId',
        'receiptTim',
        'gYuna',
        'profilePic',
        'wServices/',
        'VerifyMens',
        'E2E_DEVICE',
        'tsTSx',
        'update',
        'sChatFlowT',
        'farewellMe',
        'wbotMessag',
        'ticket',
        'nest',
        'MJagt',
        'ACJJU',
        'Emit',
        '74270SEheVK',
        'sequelize',
        'message-re',
        'extendedTe',
        'pService',
        'aMessageBa',
        'prototype',
        'tId\x22\x20=\x20c.i',
        'documentMe',
        'VerifyStep',
        '\x20\x20\x20\x20\x20\x20\x20and',
        'contacts:',
        'documentWi',
        'nContacts',
        'channel',
        'videoMessa',
        'message\x20li',
        'isCampaign',
        'value',
        'QueueServi',
        '\x20and\x20c.\x22nu',
        'URnSD',
        '\x27\x0a\x20\x20\x20\x20\x20\x20\x20\x20',
        'name',
        'tureUrl',
        'count',
        'rvices/Get',
        'type',
        'igIvF',
        'get',
        'ertyDescri',
        'okLwx'
    ];
    _0x25f5 = function () {
        return _0x515977;
    };
    return _0x25f5();
}
function _0x2b96(_0x5ad8df, _0x5da96c) {
    const _0x3c3738 = _0x25f5();
    return _0x2b96 = function (_0x4e6cc3, _0x44ca80) {
        _0x4e6cc3 = _0x4e6cc3 - (0x25d3 + -0x20b9 + -0x347);
        let _0x2a6280 = _0x3c3738[_0x4e6cc3];
        return _0x2a6280;
    }, _0x2b96(_0x5ad8df, _0x5da96c);
}
const _0x518e2d = {};
_0x518e2d[_0x246e2e(0x2b6)] = !![], Object[_0x246e2e(0x2d6) + _0x246e2e(0x23c)](exports, _0x246e2e(0x22a), _0x518e2d), exports[_0x246e2e(0x29e) + _0x246e2e(0x278) + _0x246e2e(0x255)] = void (-0x421 + -0x9c2 * -0x1 + -0x5a1);
const baileys_1 = require(_0x246e2e(0x2ed) + _0x246e2e(0x271) + _0x246e2e(0x20d)), Message_1 = __importDefault(require(_0x246e2e(0x2da) + _0x246e2e(0x222))), Sentry = __importStar(require(_0x246e2e(0x1de) + 'de')), logger_1 = require(_0x246e2e(0x260) + _0x246e2e(0x231)), Ticket_1 = __importDefault(require(_0x246e2e(0x2da) + _0x246e2e(0x22c))), IsValidMsg_1 = require(_0x246e2e(0x2f1) + _0x246e2e(0x2f5)), ShowWhatsAppService_1 = __importDefault(require(_0x246e2e(0x243) + _0x246e2e(0x2ea) + _0x246e2e(0x23b) + _0x246e2e(0x2a8))), Setting_1 = __importDefault(require(_0x246e2e(0x2da) + _0x246e2e(0x2d2))), FindOrCreateTicketService_1 = __importDefault(require(_0x246e2e(0x238) + _0x246e2e(0x235) + _0x246e2e(0x263) + _0x246e2e(0x2e8) + _0x246e2e(0x2cb))), VerifyContactBaileys_1 = require(_0x246e2e(0x2f1) + _0x246e2e(0x254) + _0x246e2e(0x20b)), Queue_1 = __importDefault(require(_0x246e2e(0x24d) + _0x246e2e(0x21e))), VerifyBusinessHours_1 = __importDefault(require(_0x246e2e(0x2f1) + _0x246e2e(0x228) + _0x246e2e(0x2d0))), VerifyStepsChatFlowTicket_1 = __importDefault(require(_0x246e2e(0x217) + _0x246e2e(0x297) + _0x246e2e(0x2ad) + _0x246e2e(0x29c) + _0x246e2e(0x27d))), socketEmit_1 = __importDefault(require(_0x246e2e(0x289) + _0x246e2e(0x28e) + _0x246e2e(0x2a3))), index_1 = __importDefault(require(_0x246e2e(0x262) + _0x246e2e(0x1ff) + 'ex')), sequelize_1 = require(_0x246e2e(0x2a5)), CampaignContacts_1 = __importDefault(require(_0x246e2e(0x2da) + _0x246e2e(0x2fa) + _0x246e2e(0x2b1))), cache_1 = require(_0x246e2e(0x24d) + _0x246e2e(0x26e)), GetQueueService_1 = __importDefault(require(_0x246e2e(0x22e) + _0x246e2e(0x2be) + _0x246e2e(0x2b7) + 'ce')), VerifyMensageOpenIAQueue_1 = __importDefault(require(_0x246e2e(0x215) + _0x246e2e(0x298) + _0x246e2e(0x26a) + _0x246e2e(0x2f3))), messageQueue = [], filterMessages = _0x376879 => {
        const _0x129d45 = _0x246e2e;
        if (_0x376879[_0x129d45(0x268)]?.[_0x129d45(0x21b) + _0x129d45(0x2db)])
            return ![];
        if ([
                baileys_1[_0x129d45(0x205) + _0x129d45(0x1ea)][_0x129d45(0x2e1)],
                baileys_1[_0x129d45(0x205) + _0x129d45(0x1ea)][_0x129d45(0x299) + _0x129d45(0x1e0)],
                baileys_1[_0x129d45(0x205) + _0x129d45(0x1ea)][_0x129d45(0x1e5) + _0x129d45(0x21d)],
                baileys_1[_0x129d45(0x205) + _0x129d45(0x1ea)][_0x129d45(0x2d8)]
            ][_0x129d45(0x2e3)](_0x376879[_0x129d45(0x1e3) + _0x129d45(0x252)]))
            return ![];
        return !![];
    }, wbotMessageListenerBaileys = async (_0x508dbb, _0x431eae) => {
        const _0x44eccf = _0x246e2e, _0x4a09be = {
                'bkahk': function (_0x4eedb2, _0x209085) {
                    return _0x4eedb2 > _0x209085;
                },
                'hcdfA': function (_0x426361, _0xda4aee) {
                    return _0x426361 === _0xda4aee;
                },
                'zowWD': _0x44eccf(0x25c) + 'e',
                'benZe': function (_0x3c994e, _0x564c91) {
                    return _0x3c994e > _0x564c91;
                },
                'jaXmo': function (_0x403af1, _0x3aa54a, _0x138e79, _0x511d5e) {
                    return _0x403af1(_0x3aa54a, _0x138e79, _0x511d5e);
                },
                'vBcwU': function (_0x48018d, _0x30e8fd, _0xafabae) {
                    return _0x48018d(_0x30e8fd, _0xafabae);
                },
                'wvYjb': function (_0x595555, _0x31e56c, _0x459f32) {
                    return _0x595555(_0x31e56c, _0x459f32);
                },
                'QJBAk': _0x44eccf(0x211) + _0x44eccf(0x2ef),
                'PVezj': _0x44eccf(0x211) + _0x44eccf(0x227),
                'ftmpI': _0x44eccf(0x2a6) + _0x44eccf(0x1e1) + 'te'
            };
        try {
            _0x508dbb['ev']['on'](_0x4a09be[_0x44eccf(0x246)], async _0x164ef3 => {
                const _0x4ee74e = _0x44eccf;
                console[_0x4ee74e(0x223)](_0x4ee74e(0x2cf) + '\x20' + _0x164ef3[_0x4ee74e(0x23d)][_0x4ee74e(0x2c7)] + (_0x4ee74e(0x2d5) + _0x4ee74e(0x272)) + new Date()[_0x4ee74e(0x1f6) + 'g']() + (_0x4ee74e(0x2c4) + _0x4ee74e(0x276)) + _0x431eae[_0x4ee74e(0x2bb)]);
                const _0x6c409a = _0x164ef3[_0x4ee74e(0x23d)][_0x4ee74e(0x1f7)](filterMessages)[_0x4ee74e(0x275)](_0x30472f => _0x30472f);
                if (!_0x6c409a)
                    return;
                for (let _0x2bf545 of _0x6c409a) {
                    const _0x14f49c = _0x2bf545[_0x4ee74e(0x2fb)][_0x4ee74e(0x1f0)][_0x4ee74e(0x2f7)]('@')[0x1762 * 0x1 + 0x95 * -0x29 + -0x3 * -0x29], _0x49e960 = _0x4ee74e(0x2de) + _0x4ee74e(0x1fe) + _0x4ee74e(0x28d) + _0x4ee74e(0x2d1) + _0x4ee74e(0x1d7) + _0x4ee74e(0x24e) + _0x4ee74e(0x273) + _0x4ee74e(0x24a) + _0x4ee74e(0x23e) + _0x4ee74e(0x232) + _0x4ee74e(0x2eb) + _0x4ee74e(0x23e) + _0x4ee74e(0x2c9) + _0x4ee74e(0x220) + _0x4ee74e(0x249) + _0x431eae[_0x4ee74e(0x1ee)] + (_0x4ee74e(0x1d7) + _0x4ee74e(0x2ae) + _0x4ee74e(0x284) + _0x4ee74e(0x290)) + _0x14f49c + (_0x4ee74e(0x2ba) + _0x4ee74e(0x258) + _0x4ee74e(0x25f) + _0x4ee74e(0x292)) + _0x431eae[_0x4ee74e(0x1ee)] + (_0x4ee74e(0x1d7) + _0x4ee74e(0x2ae) + _0x4ee74e(0x26d) + _0x4ee74e(0x2ab) + _0x4ee74e(0x253) + _0x4ee74e(0x258) + _0x4ee74e(0x202) + _0x4ee74e(0x1f1) + _0x4ee74e(0x288) + _0x4ee74e(0x225) + _0x4ee74e(0x2f8) + _0x4ee74e(0x221) + '\x20') + _0x431eae[_0x4ee74e(0x1ee)] + (_0x4ee74e(0x2b8) + _0x4ee74e(0x2dd)) + _0x14f49c + (_0x4ee74e(0x1fb) + _0x4ee74e(0x221) + '\x20') + _0x431eae[_0x4ee74e(0x1ee)] + ')', _0x239e15 = {};
                    _0x239e15[_0x4ee74e(0x2bf)] = sequelize_1[_0x4ee74e(0x283)][_0x4ee74e(0x1dd)], _0x239e15[_0x4ee74e(0x2a0)] = !![];
                    const _0x2a4bd9 = await index_1[_0x4ee74e(0x1e4)]?.[_0x4ee74e(0x287)](_0x49e960, _0x239e15);
                    if (_0x4a09be[_0x4ee74e(0x26b)](_0x2a4bd9[_0x4ee74e(0x2c7)], -0x10 * -0x22d + -0x866 + -0x1a6a) && _0x2bf545[_0x4ee74e(0x2fb)][_0x4ee74e(0x1e9)] && _0x4a09be[_0x4ee74e(0x1f2)](_0x2a4bd9[0xcc7 + -0x1 * -0xed7 + -0x2 * 0xdcf][_0x4a09be[_0x4ee74e(0x2e4)]], _0x431eae[_0x4ee74e(0x29d) + _0x4ee74e(0x2db)]))
                        return;
                    const _0xab5be3 = {};
                    _0xab5be3[_0x4ee74e(0x1eb)] = _0x2bf545[_0x4ee74e(0x2fb)]['id'];
                    const _0x1ccc95 = {};
                    _0x1ccc95[_0x4ee74e(0x219)] = _0xab5be3;
                    const _0x123cca = await CampaignContacts_1[_0x4ee74e(0x1e4)][_0x4ee74e(0x2bd)](_0x1ccc95);
                    if (_0x4a09be[_0x4ee74e(0x239)](_0x123cca, 0xcd4 + -0xc23 + -0xb1))
                        return;
                    const _0x2c76bf = {};
                    _0x2c76bf[_0x4ee74e(0x1eb)] = _0x2bf545[_0x4ee74e(0x2fb)]['id'], _0x2c76bf[_0x4ee74e(0x1ee)] = _0x431eae[_0x4ee74e(0x1ee)];
                    const _0x5bbf3e = {};
                    _0x5bbf3e[_0x4ee74e(0x219)] = _0x2c76bf;
                    const _0x322a68 = await Message_1[_0x4ee74e(0x1e4)][_0x4ee74e(0x2bd)](_0x5bbf3e);
                    if (!_0x322a68) {
                        const _0x1c92a3 = await (-0x5b3 + 0x1 * 0x1ae3 + 0x4 * -0x54c, VerifyContactBaileys_1[_0x4ee74e(0x25d) + _0x4ee74e(0x2e0)])(_0x2bf545), _0x15c14f = /\u200c/[_0x4ee74e(0x234)](_0x1c92a3);
                        !_0x15c14f && await _0x4a09be[_0x4ee74e(0x2e9)](handleMessageBaileys, _0x508dbb, _0x2bf545, _0x431eae['id']);
                    } else
                        _0x2bf545[_0x4ee74e(0x2fb)][_0x4ee74e(0x1e9)] && await Message_1[_0x4ee74e(0x1e4)][_0x4ee74e(0x29b)]({ 'dataJson': JSON[_0x4ee74e(0x25b)](_0x2bf545) }, {
                            'where': {
                                'messageId': _0x2bf545[_0x4ee74e(0x2fb)]['id'],
                                'tenantId': _0x431eae[_0x4ee74e(0x1ee)]
                            }
                        });
                }
            }), _0x508dbb['ev']['on'](_0x4a09be[_0x44eccf(0x208)], _0x17c952 => {
                const _0x15d953 = _0x44eccf, _0x34260b = {
                        'SKHwL': function (_0x3291bd, _0x2c8d16) {
                            const _0x422eb8 = _0x2b96;
                            return _0x4a09be[_0x422eb8(0x1f2)](_0x3291bd, _0x2c8d16);
                        },
                        'KbvJM': function (_0x41641c, _0x68652f, _0x910e9e) {
                            const _0x488441 = _0x2b96;
                            return _0x4a09be[_0x488441(0x200)](_0x41641c, _0x68652f, _0x910e9e);
                        }
                    };
                if (_0x4a09be[_0x15d953(0x1f2)](_0x17c952[_0x15d953(0x2c7)], -0xbe9 + 0x11 * -0xdd + 0x1a96))
                    return;
                _0x17c952[_0x15d953(0x1fa)](async _0x2d32a5 => {
                    const _0x26a46c = _0x15d953;
                    let _0x48cef7;
                    _0x34260b[_0x26a46c(0x265)](_0x2d32a5[_0x26a46c(0x29b)][_0x26a46c(0x286)], -0x26fd + -0x1ad2 + -0x1 * -0x41d2) && _0x2d32a5?.[_0x26a46c(0x2fb)]?.[_0x26a46c(0x1e9)] ? _0x48cef7 = -0x332 * 0xa + -0x617 * 0x2 + -0xa * -0x46a : _0x48cef7 = _0x2d32a5[_0x26a46c(0x29b)][_0x26a46c(0x286)], _0x34260b[_0x26a46c(0x21c)](handleMsgAckBaileys, _0x2d32a5, _0x48cef7);
                });
            }), _0x508dbb['ev']['on'](_0x4a09be[_0x44eccf(0x2e2)], _0x559631 => {
                const _0x476794 = _0x44eccf;
                _0x559631[_0x476794(0x1fa)](async _0x2fbd54 => {
                    const _0x1d5855 = _0x476794, _0x263a05 = _0x2fbd54?.[_0x1d5855(0x1d5)]?.[_0x1d5855(0x294) + _0x1d5855(0x2ee)] ? 0x1367 * -0x2 + 0x1c37 + 0xa9a : _0x2fbd54?.[_0x1d5855(0x1d5)]?.[_0x1d5855(0x245) + _0x1d5855(0x1f3)] ? 0x1392 + -0x9 * -0x156 + -0x1f94 : -0xa91 * -0x1 + 0x214c + 0x2bdd * -0x1;
                    if (!_0x263a05)
                        return;
                    await _0x4a09be[_0x1d5855(0x20f)](handleMsgAckBaileys, _0x2fbd54, _0x263a05);
                });
            });
        } catch (_0x32f574) {
            Sentry[_0x44eccf(0x24f) + _0x44eccf(0x267)](_0x32f574), logger_1[_0x44eccf(0x237)][_0x44eccf(0x2f4)](_0x44eccf(0x291) + _0x44eccf(0x280) + _0x44eccf(0x2b4) + _0x44eccf(0x241) + _0x44eccf(0x210) + _0x32f574);
        }
    };
exports[_0x246e2e(0x29e) + _0x246e2e(0x278) + _0x246e2e(0x255)] = wbotMessageListenerBaileys;
const handleReceiveMessages = async () => {
        const _0x1fad0f = _0x246e2e, _0x1b6731 = {};
        _0x1b6731[_0x1fad0f(0x26c)] = function (_0x5c5cde, _0x3c454b) {
            return _0x5c5cde > _0x3c454b;
        };
        const _0x582580 = _0x1b6731;
        while (_0x582580[_0x1fad0f(0x26c)](messageQueue[_0x1fad0f(0x2c7)], -0x113d + 0x2689 + -0x154c)) {
            const {
                message: _0x1f7903,
                wbot: _0x1e5ee4,
                whatsapp: _0x4b7a0e
            } = messageQueue[0xb92 * 0x1 + 0x841 + -0x13d3];
            messageQueue[_0x1fad0f(0x279)]();
        }
    }, handleMsgAckBaileys = async (_0x3dbde3, _0x5ae1e4) => {
        const _0x4c0554 = _0x246e2e, _0xc5d2f = {
                'tMEdT': function (_0x4c1761, _0x3b9d44) {
                    return _0x4c1761(_0x3b9d44);
                },
                'mVAXz': _0x4c0554(0x1ef),
                'pHUio': _0x4c0554(0x29f),
                'vkiAB': _0x4c0554(0x2f2),
                'LIZST': function (_0x2f2d2a, _0x1e8381) {
                    return _0x2f2d2a(_0x1e8381);
                },
                'MJagt': _0x4c0554(0x201)
            };
        await new Promise(_0x25de4b => setTimeout(_0x25de4b, -0x8c0 * -0x3 + 0x237c + -0x3bc8));
        try {
            const _0x14d997 = await Message_1[_0x4c0554(0x1e4)][_0x4c0554(0x23f)]({
                'where': { 'messageId': _0xc5d2f[_0x4c0554(0x22d)](String, _0x3dbde3[_0x4c0554(0x2fb)]['id']) },
                'include': [
                    _0xc5d2f[_0x4c0554(0x256)],
                    {
                        'model': Ticket_1[_0x4c0554(0x1e4)],
                        'as': _0xc5d2f[_0x4c0554(0x1df)]
                    },
                    {
                        'model': Message_1[_0x4c0554(0x1e4)],
                        'as': _0xc5d2f[_0x4c0554(0x1ec)],
                        'include': [_0xc5d2f[_0x4c0554(0x256)]]
                    }
                ]
            });
            if (!_0x14d997) {
                const _0x284adc = await CampaignContacts_1[_0x4c0554(0x1e4)][_0x4c0554(0x23f)]({ 'where': { 'messageId': _0xc5d2f[_0x4c0554(0x209)](String, _0x3dbde3[_0x4c0554(0x2fb)]['id']) } });
                if (!_0x284adc)
                    return;
                const _0x43df60 = {};
                _0x43df60[_0x4c0554(0x250)] = _0x5ae1e4, await _0x284adc[_0x4c0554(0x29b)](_0x43df60);
                return;
            }
            const _0xc046e9 = {};
            _0xc046e9[_0x4c0554(0x250)] = _0x5ae1e4, await _0x14d997[_0x4c0554(0x29b)](_0xc046e9);
            const _0x27ba66 = {};
            _0x27ba66[_0x4c0554(0x1ee)] = _0x14d997[_0x4c0554(0x1ee)], _0x27ba66[_0x4c0554(0x2bf)] = _0xc5d2f[_0x4c0554(0x2a1)], _0x27ba66[_0x4c0554(0x226)] = _0x14d997, (0x1f2 * 0xc + 0x1348 + -0x3e * 0xb0, socketEmit_1[_0x4c0554(0x1e4)])(_0x27ba66);
        } catch (_0x106a7a) {
            Sentry[_0x4c0554(0x24f) + _0x4c0554(0x267)](_0x106a7a), logger_1[_0x4c0554(0x237)][_0x4c0554(0x2f4)](_0x4c0554(0x291) + _0x4c0554(0x2f0) + _0x4c0554(0x2c6) + _0x4c0554(0x210) + _0x106a7a);
        }
    }, handleMessageBaileys = async (_0x44ab6f, _0x4b7be8, _0xcc758) => {
        const _0x50a8a7 = _0x246e2e, _0x164b34 = {
                'dMfXJ': _0x50a8a7(0x27c) + _0x50a8a7(0x206),
                'HxPzm': function (_0x1505ae, _0xc1e53c) {
                    return _0x1505ae === _0xc1e53c;
                },
                'bwyQq': _0x50a8a7(0x1e2),
                'URnSD': function (_0x41fb1b, _0x3bdafe) {
                    return _0x41fb1b(_0x3bdafe);
                },
                'ACJJU': _0x50a8a7(0x26f),
                'PAZdb': function (_0x4f5c7c, _0x12852f) {
                    return _0x4f5c7c(_0x12852f);
                },
                'gYuna': function (_0x38657a, _0x14f5d6) {
                    return _0x38657a + _0x14f5d6;
                },
                'FrFbn': _0x50a8a7(0x242),
                'UtiJs': _0x50a8a7(0x1db) + 'e',
                'CaAIt': _0x50a8a7(0x27f) + 'I'
            };
        if (!(-0x1ffc + -0x2 * -0x1373 + -0x6ea, IsValidMsg_1[_0x50a8a7(0x248) + _0x50a8a7(0x224)])(_0x4b7be8))
            return;
        const _0x983fe = {};
        _0x983fe['id'] = _0xcc758;
        const _0x46b01f = await (-0x595 + -0xfa9 + -0x153e * -0x1, ShowWhatsAppService_1[_0x50a8a7(0x1e4)])(_0x983fe), {
                tenantId: _0x2bd70d,
                isDeleted: _0x12157d
            } = _0x46b01f;
        if (_0x12157d)
            return;
        const _0x335075 = {};
        _0x335075[_0x50a8a7(0x2fb)] = _0x164b34[_0x50a8a7(0x229)], _0x335075[_0x50a8a7(0x1ee)] = _0x2bd70d;
        const _0x4e2a93 = {};
        _0x4e2a93[_0x50a8a7(0x219)] = _0x335075;
        const _0xd6dd69 = await Setting_1[_0x50a8a7(0x1e4)][_0x50a8a7(0x23f)](_0x4e2a93);
        if (_0x164b34[_0x50a8a7(0x207)](_0xd6dd69?.[_0x50a8a7(0x2b6)], _0x164b34[_0x50a8a7(0x2d9)]) && (_0x164b34[_0x50a8a7(0x2b9)](isGroup, _0x4b7be8) || _0x4b7be8[_0x50a8a7(0x2cd)]))
            return;
        try {
            let _0x2c11da, _0x333930, _0xada6a7;
            if (!_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1e9)])
                try {
                    _0x333930 = await _0x44ab6f[_0x50a8a7(0x296) + _0x50a8a7(0x2bc)](_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1f0)], _0x164b34[_0x50a8a7(0x2a2)], -0xdd5e + 0x3d97 * 0x1 + 0x1 * 0x114f7);
                } catch (_0x318758) {
                    _0x333930 = null;
                }
            let _0x567140 = {};
            _0x164b34[_0x50a8a7(0x24b)](isGroup, _0x4b7be8) && (_0x567140 = await _0x44ab6f[_0x50a8a7(0x269) + _0x50a8a7(0x2dc)](_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1f0)]), _0x2c11da = await (0xd46 * 0x2 + -0xa92 + -0x2 * 0x7fd, VerifyContactBaileys_1[_0x50a8a7(0x254) + _0x50a8a7(0x20b)])(_0x4b7be8, _0x2bd70d, _0x333930, !![], _0x567140));
            if (!_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1e9)])
                try {
                    _0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x22b) + 't'] ? _0x333930 = await _0x44ab6f[_0x50a8a7(0x296) + _0x50a8a7(0x2bc)](_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x22b) + 't'], _0x164b34[_0x50a8a7(0x2a2)], -0x9907 + -0x2cb8 + -0x25 * -0x883) : _0x333930 = await _0x44ab6f[_0x50a8a7(0x296) + _0x50a8a7(0x2bc)](_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1f0)], _0x164b34[_0x50a8a7(0x2a2)], 0xca39 + 0x97bd + 0x2 * -0x7663);
                } catch (_0x4d56ec) {
                    _0x333930 = null;
                }
            _0xada6a7 = await (0x1ce + 0x1699 + -0x1867 * 0x1, VerifyContactBaileys_1[_0x50a8a7(0x254) + _0x50a8a7(0x20b)])(_0x4b7be8, _0x2bd70d, _0x333930, ![], _0x567140);
            let _0xa67249 = -0x1191 + 0x551 + 0xc40;
            if (_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1e9)])
                await cache_1[_0x50a8a7(0x2c8)][_0x50a8a7(0x27a)](_0x50a8a7(0x2af) + _0xada6a7['id'] + _0x50a8a7(0x1e8), '0');
            else {
                const _0xa67b5a = await cache_1[_0x50a8a7(0x2c8)][_0x50a8a7(0x2c1)](_0x50a8a7(0x2af) + _0xada6a7['id'] + _0x50a8a7(0x1e8));
                _0xa67249 = _0x164b34[_0x50a8a7(0x295)](+_0xa67b5a, 0x38e * -0x8 + 0xa9d + 0x28c * 0x7), await cache_1[_0x50a8a7(0x2c8)][_0x50a8a7(0x27a)](_0x50a8a7(0x2af) + _0xada6a7['id'] + _0x50a8a7(0x1e8), '' + _0xa67249);
            }
            const _0x5b1f8d = {};
            _0x5b1f8d[_0x50a8a7(0x1ef)] = _0xada6a7, _0x5b1f8d[_0x50a8a7(0x2f9)] = _0xcc758, _0x5b1f8d[_0x50a8a7(0x24c) + _0x50a8a7(0x204)] = _0xa67249, _0x5b1f8d[_0x50a8a7(0x1ee)] = _0x2bd70d, _0x5b1f8d[_0x50a8a7(0x270) + 'ct'] = _0x2c11da, _0x5b1f8d[_0x50a8a7(0x2d7)] = _0x4b7be8, _0x5b1f8d[_0x50a8a7(0x2b2)] = _0x164b34[_0x50a8a7(0x1d6)];
            const _0x311a2e = await (0xf19 * 0x2 + -0x4 * -0x43a + -0x2f1a, FindOrCreateTicketService_1[_0x50a8a7(0x1e4)])(_0x5b1f8d);
            if (_0x311a2e?.[_0x50a8a7(0x2b5) + _0x50a8a7(0x2d4)])
                return;
            if (_0x311a2e?.[_0x50a8a7(0x285) + _0x50a8a7(0x2d4)])
                return;
            _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x28f) + 'ge'] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2d3) + 'ge'] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2b3) + 'ge'] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2e7) + _0x50a8a7(0x2e0)] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2ac) + _0x50a8a7(0x2db)] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2b0) + _0x50a8a7(0x2df) + _0x50a8a7(0x1dc)]?.[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2ac) + _0x50a8a7(0x2db)] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2a7) + _0x50a8a7(0x1fc)]?.[_0x50a8a7(0x277) + 'o']?.[_0x50a8a7(0x1f4) + _0x50a8a7(0x28b)]?.[_0x50a8a7(0x28f) + 'ge'] || _0x4b7be8[_0x50a8a7(0x268)]?.[_0x50a8a7(0x2a7) + _0x50a8a7(0x1fc)]?.[_0x50a8a7(0x277) + 'o']?.[_0x50a8a7(0x1f4) + _0x50a8a7(0x28b)]?.[_0x50a8a7(0x2b3) + 'ge'] ? await (-0x6f0 + -0x4d * 0x35 + 0x1 * 0x16e1, VerifyContactBaileys_1[_0x50a8a7(0x264) + _0x50a8a7(0x2a9) + _0x50a8a7(0x259)])(_0x4b7be8, _0x311a2e, _0xada6a7) : await (-0x232 * -0x9 + 0xed6 + -0x6c * 0x52, VerifyContactBaileys_1[_0x50a8a7(0x23a) + _0x50a8a7(0x27b)])(_0x4b7be8, _0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1e9)], _0x311a2e, _0xada6a7);
            const _0x2d54f9 = await (0x1c82 + -0x11f2 + 0xd0 * -0xd, VerifyBusinessHours_1[_0x50a8a7(0x1e4)])(_0x4b7be8, _0x311a2e);
            if (_0x2d54f9)
                await (0xb0 * -0x2b + -0xc19 + 0x1 * 0x29a9, VerifyStepsChatFlowTicket_1[_0x50a8a7(0x1e4)])(_0x4b7be8, _0x311a2e);
            if (_0x2d54f9 && _0x311a2e[_0x50a8a7(0x293)] && _0x311a2e[_0x50a8a7(0x1d3)]) {
                const _0x5d6676 = await (-0x822 + 0x2237 + -0x25f * 0xb, GetQueueService_1[_0x50a8a7(0x1e4)])(_0x311a2e[_0x50a8a7(0x293)]);
                await (0x35d + -0x1257 * 0x1 + 0x1aa * 0x9, VerifyMensageOpenIAQueue_1[_0x50a8a7(0x1e4)])(_0x311a2e, _0x5d6676, ![], !![], _0x4b7be8[_0x50a8a7(0x2fb)], _0x4b7be8);
            }
            const _0x5c10ae = _0x311a2e[_0x50a8a7(0x28a)] || {};
            if (!_0x4b7be8[_0x50a8a7(0x2fb)][_0x50a8a7(0x1e9)] && !_0x311a2e[_0x50a8a7(0x20e)] && !_0x311a2e[_0x50a8a7(0x251)] && _0x5c10ae?.[_0x50a8a7(0x2c5) + 'y'] && _0x5c10ae?.[_0x50a8a7(0x1fd) + _0x50a8a7(0x281)]) {
                const _0xa152c5 = {
                        'timestamp': Date[_0x50a8a7(0x2e5)](),
                        'msg': _0x4b7be8,
                        'messageId': _0x4b7be8[_0x50a8a7(0x2fb)]['id'],
                        'ticketId': _0x311a2e['id'],
                        'externalKey': _0x5c10ae?.[_0x50a8a7(0x2c5) + 'y'],
                        'authToken': _0x5c10ae?.[_0x50a8a7(0x1da)],
                        'type': _0x164b34[_0x50a8a7(0x20c)]
                    }, _0x225262 = {};
                _0x225262[_0x50a8a7(0x21a)] = _0x5c10ae[_0x50a8a7(0x1fd) + _0x50a8a7(0x281)], _0x225262[_0x50a8a7(0x2bf)] = _0xa152c5[_0x50a8a7(0x2bf)], _0x225262[_0x50a8a7(0x226)] = _0xa152c5, Queue_1[_0x50a8a7(0x1e4)][_0x50a8a7(0x203)](_0x164b34[_0x50a8a7(0x22f)], _0x225262);
            }
        } catch (_0x4b9ddd) {
            logger_1[_0x50a8a7(0x237)][_0x50a8a7(0x2f4)](_0x4b9ddd);
        }
    }, isGroup = _0x3f94c5 => {
        const _0x434a29 = _0x246e2e, _0x19ea6e = {};
        _0x19ea6e[_0x434a29(0x29a)] = function (_0x46f13e, _0x598ff3) {
            return _0x46f13e > _0x598ff3;
        }, _0x19ea6e[_0x434a29(0x1d8)] = _0x434a29(0x2ce);
        const _0x452108 = _0x19ea6e;
        return _0x452108[_0x434a29(0x29a)](_0x3f94c5[_0x434a29(0x2fb)][_0x434a29(0x1f0)]?.[_0x434a29(0x28c)](_0x452108[_0x434a29(0x1d8)]), -0x1 * 0x229b + 0x1b10 + 0x1 * 0x78b);
    };